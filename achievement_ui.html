<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Achievements & Progress - Quantum Council</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Header Section */
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 30px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      backdrop-filter: blur(10px);
    }

    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(135deg, #4A90E2, #9B59B6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Level Progress */
    .level-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      backdrop-filter: blur(10px);
    }

    .level-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .level-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .level-icon {
      font-size: 3em;
    }

    .level-details h2 {
      font-size: 1.8em;
      margin-bottom: 5px;
    }

    .level-details p {
      color: #aaa;
      font-size: 0.9em;
    }

    .points-display {
      text-align: right;
    }

    .points-display .points {
      font-size: 2em;
      font-weight: bold;
      color: #FFD700;
    }

    .points-display .label {
      color: #aaa;
      font-size: 0.9em;
    }

    .progress-bar {
      width: 100%;
      height: 30px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #4A90E2, #9B59B6);
      transition: width 0.5s ease;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding-right: 15px;
      font-weight: bold;
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .stat-icon {
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .stat-value {
      font-size: 2em;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .stat-label {
      color: #aaa;
      font-size: 0.9em;
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .tab {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1em;
      color: #fff;
    }

    .tab:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .tab.active {
      background: linear-gradient(135deg, #4A90E2, #9B59B6);
      border-color: #fff;
    }

    /* Tab Content */
    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Achievements Grid */
    .achievements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .achievement-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .achievement-card:hover {
      transform: translateY(-5px);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .achievement-card.locked {
      opacity: 0.5;
      filter: grayscale(1);
    }

    .achievement-card.unlocked::before {
      content: '‚úì';
      position: absolute;
      top: 10px;
      right: 10px;
      width: 30px;
      height: 30px;
      background: #4CAF50;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .achievement-tier {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 1.5em;
    }

    .achievement-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
      margin-top: 20px;
    }

    .achievement-icon {
      font-size: 2.5em;
    }

    .achievement-info h3 {
      font-size: 1.2em;
      margin-bottom: 5px;
    }

    .achievement-info .category {
      color: #aaa;
      font-size: 0.8em;
    }

    .achievement-description {
      color: #ccc;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .achievement-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .achievement-points {
      font-weight: bold;
      color: #FFD700;
    }

    .achievement-progress {
      font-size: 0.9em;
      color: #aaa;
    }

    /* Daily Challenges */
    .challenges-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .challenge-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .challenge-card.completed {
      border-color: #4CAF50;
      background: rgba(76, 175, 80, 0.1);
    }

    .challenge-status {
      font-size: 2em;
      min-width: 40px;
      text-align: center;
    }

    .challenge-content {
      flex: 1;
    }

    .challenge-content h3 {
      margin-bottom: 5px;
    }

    .challenge-content p {
      color: #aaa;
      font-size: 0.9em;
    }

    .challenge-reward {
      text-align: right;
      font-weight: bold;
      color: #FFD700;
    }

    /* Streaks */
    .streaks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .streak-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 25px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      text-align: center;
    }

    .streak-icon {
      font-size: 3em;
      margin-bottom: 15px;
    }

    .streak-current {
      font-size: 3em;
      font-weight: bold;
      color: #FF6B6B;
      margin-bottom: 10px;
    }

    .streak-label {
      font-size: 1.2em;
      margin-bottom: 10px;
    }

    .streak-best {
      color: #aaa;
      font-size: 0.9em;
    }

    .streak-milestones {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .milestone {
      display: inline-block;
      margin: 5px;
      padding: 5px 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      font-size: 0.8em;
    }

    .milestone.reached {
      background: #4CAF50;
    }

    /* Badges */
    .badges-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 20px;
    }

    .badge-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      transition: all 0.3s ease;
    }

    .badge-card:hover {
      transform: scale(1.05);
    }

    .badge-icon {
      font-size: 3em;
      margin-bottom: 10px;
    }

    .badge-name {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .badge-rarity {
      font-size: 0.8em;
      color: #aaa;
      text-transform: uppercase;
    }

    .badge-rarity.legendary {
      color: #FFD700;
    }

    .badge-rarity.epic {
      color: #9B59B6;
    }

    .badge-rarity.rare {
      color: #4A90E2;
    }

    /* Leaderboard */
    .leaderboard-list {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(10px);
    }

    .leaderboard-item {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .leaderboard-item:last-child {
      border-bottom: none;
    }

    .leaderboard-rank {
      font-size: 1.5em;
      font-weight: bold;
      min-width: 40px;
      text-align: center;
    }

    .leaderboard-rank.top3 {
      color: #FFD700;
    }

    .leaderboard-user {
      flex: 1;
    }

    .leaderboard-user .name {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .leaderboard-user .level {
      color: #aaa;
      font-size: 0.9em;
    }

    .leaderboard-score {
      font-size: 1.5em;
      font-weight: bold;
      color: #4A90E2;
    }

    /* Notifications */
    .achievement-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #4A90E2, #9B59B6);
      border-radius: 15px;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      transform: translateX(400px);
      transition: transform 0.5s ease;
      z-index: 1000;
      max-width: 350px;
    }

    .achievement-notification.show {
      transform: translateX(0);
    }

    .achievement-notification .achievement-icon {
      font-size: 2.5em;
    }

    .achievement-notification .achievement-content {
      flex: 1;
    }

    .achievement-notification .achievement-title {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .achievement-notification .achievement-message {
      font-size: 0.9em;
    }

    .achievement-notification .achievement-points {
      color: #FFD700;
      font-weight: bold;
      margin-top: 5px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 1.8em;
      }

      .level-header {
        flex-direction: column;
        gap: 20px;
      }

      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .achievements-grid {
        grid-template-columns: 1fr;
      }

      .achievement-notification {
        right: 10px;
        left: 10px;
        max-width: none;
      }
    }

    /* Loading State */
    .loading {
      text-align: center;
      padding: 50px;
      font-size: 1.2em;
      color: #aaa;
    }

    .loading::after {
      content: '...';
      animation: dots 1.5s steps(4, end) infinite;
    }

    @keyframes dots {
      0%, 20% { content: '.'; }
      40% { content: '..'; }
      60%, 100% { content: '...'; }
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 50px;
      color: #aaa;
    }

    .empty-state-icon {
      font-size: 4em;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    .empty-state h3 {
      margin-bottom: 10px;
    }
  </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>üèÜ Your Manifestation Journey</h1>
      <p>Track your progress, unlock achievements, and level up your reality</p>
    </div>

    <!-- Level Progress Section -->
    <div class="level-section">
      <div class="level-header">
        <div class="level-info">
          <div class="level-icon" id="levelIcon">üå±</div>
          <div class="level-details">
            <h2 id="levelName">Level 1: Seeker</h2>
            <p id="levelDescription">Beginning your quantum journey</p>
          </div>
        </div>
        <div class="points-display">
          <div class="points" id="totalPoints">0</div>
          <div class="label">Total Points</div>
        </div>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="levelProgress" style="width: 0%">
          <span id="progressText">0%</span>
        </div>
      </div>
      <p style="text-align: center; margin-top: 10px; color: #aaa;" id="nextLevelInfo">
        Next level at 100 points
      </p>
    </div>

    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">üî•</div>
        <div class="stat-value" id="currentStreak">0</div>
        <div class="stat-label">Day Streak</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üéØ</div>
        <div class="stat-value" id="sessionsCompleted">0</div>
        <div class="stat-label">Sessions</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üèÜ</div>
        <div class="stat-value" id="achievementsUnlocked">0</div>
        <div class="stat-label">Achievements</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">‚ö°</div>
        <div class="stat-value" id="activeBoosts">0%</div>
        <div class="stat-label">Active Boosts</div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab active" data-tab="achievements">üèÜ Achievements</button>
      <button class="tab" data-tab="challenges">‚úÖ Daily Challenges</button>
      <button class="tab" data-tab="streaks">üî• Streaks</button>
      <button class="tab" data-tab="badges">üéñÔ∏è Badges</button>
      <button class="tab" data-tab="leaderboard">üìä Leaderboard</button>
    </div>

    <!-- Achievements Tab -->
    <div class="tab-content active" id="achievements-tab">
      <div class="loading" id="achievementsLoading">Loading achievements</div>
      <div class="achievements-grid" id="achievementsGrid"></div>
    </div>

    <!-- Daily Challenges Tab -->
    <div class="tab-content" id="challenges-tab">
      <div class="challenges-list" id="challengesList"></div>
    </div>

    <!-- Streaks Tab -->
    <div class="tab-content" id="streaks-tab">
      <div class="streaks-grid" id="streaksGrid"></div>
    </div>

    <!-- Badges Tab -->
    <div class="tab-content" id="badges-tab">
      <div class="badges-grid" id="badgesGrid"></div>
    </div>

    <!-- Leaderboard Tab -->
    <div class="tab-content" id="leaderboard-tab">
      <div class="leaderboard-list" id="leaderboardList">
        <div class="empty-state">
          <div class="empty-state-icon">üåç</div>
          <h3>Leaderboard Coming Soon</h3>
          <p>Connect with the community to see rankings</p>
        </div>
      </div>
    </div>
  </div>

  <script src="achievement_tracker.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    let tracker;

    // Initialize
    async function init() {
      tracker = new AchievementTracker();
      await tracker.initialize();
      
      // Listen for achievements
      tracker.onAchievement((data) => {
        console.log('Achievement notification:', data);
      });
      
      // Render UI
      renderLevelProgress();
      renderStats();
      renderAchievements();
      renderChallenges();
      renderStreaks();
      renderBadges();
      
      // Setup tab switching
      setupTabs();
    }

    function renderLevelProgress() {
      const progress = tracker.getProgress();
      const nextLevel = tracker.getNextLevel();
      const progressPercent = tracker.getProgressToNextLevel();
      
      document.getElementById('levelIcon').textContent = 
        tracker.achievements.level_system.levels.find(l => l.level === progress.level).icon;
      document.getElementById('levelName').textContent = 
        `Level ${progress.level}: ${tracker.achievements.level_system.levels.find(l => l.level === progress.level).name}`;
      document.getElementById('totalPoints').textContent = progress.points;
      document.getElementById('levelProgress').style.width = `${progressPercent}%`;
      document.getElementById('progressText').textContent = `${Math.round(progressPercent)}%`;
      
      if (nextLevel) {
        document.getElementById('nextLevelInfo').textContent = 
          `Next level: ${nextLevel.name} at ${nextLevel.points_required} points`;
      } else {
        document.getElementById('nextLevelInfo').textContent = 'Maximum level reached!';
      }
    }

    function renderStats() {
      const progress = tracker.getProgress();
      const streaks = tracker.getStreaks();
      const boosts = tracker.getTotalBoostPercentage();
      
      document.getElementById('currentStreak').textContent = streaks.daily_engagement.current;
      document.getElementById('sessionsCompleted').textContent = progress.stats.sessions_completed;
      document.getElementById('achievementsUnlocked').textContent = progress.unlockedAchievements.length;
      document.getElementById('activeBoosts').textContent = `${boosts}%`;
    }

    function renderAchievements() {
      const grid = document.getElementById('achievementsGrid');
      const loading = document.getElementById('achievementsLoading');
      grid.innerHTML = '';
      loading.style.display = 'none';
      
      const categories = tracker.achievements.achievement_categories;
      const unlockedIds = tracker.userProgress.unlockedAchievements;
      
      for (const [categoryKey, category] of Object.entries(categories)) {
        for (const achievement of category.achievements) {
          const isUnlocked = unlockedIds.includes(achievement.id);
          const card = createAchievementCard(achievement, category, isUnlocked);
          grid.appendChild(card);
        }
      }
    }

    function createAchievementCard(achievement, category, isUnlocked) {
      const card = document.createElement('div');
      card.className = `achievement-card ${isUnlocked ? 'unlocked' : 'locked'}`;
      
      const tierIcon = tracker.achievements.achievement_tiers[achievement.tier].icon;
      
      card.innerHTML = `
        <div class="achievement-tier">${tierIcon}</div>
        <div class="achievement-header">
          <div class="achievement-icon">${category.icon}</div>
          <div class="achievement-info">
            <h3>${achievement.name}</h3>
            <div class="category">${category.name}</div>
          </div>
        </div>
        <div class="achievement-description">${achievement.description}</div>
        <div class="achievement-footer">
          <div class="achievement-points">+${achievement.points} points</div>
          <div class="achievement-progress">${isUnlocked ? 'Unlocked!' : 'Locked'}</div>
        </div>
      `;
      
      return card;
    }

    function renderChallenges() {
      const list = document.getElementById('challengesList');
      const challenges = tracker.getDailyChallenges();
      
      list.innerHTML = '';
      
      if (challenges.length === 0) {
        list.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">‚úÖ</div>
            <h3>No Active Challenges</h3>
            <p>Check back tomorrow for new challenges!</p>
          </div>
        `;
        return;
      }
      
      challenges.forEach(challenge => {
        const card = document.createElement('div');
        card.className = `challenge-card ${challenge.completed ? 'completed' : ''}`;
        
        card.innerHTML = `
          <div class="challenge-status">${challenge.completed ? '‚úÖ' : '‚è≥'}</div>
          <div class="challenge-content">
            <h3>${challenge.name}</h3>
            <p>${challenge.description}</p>
          </div>
          <div class="challenge-reward">+${challenge.points} pts</div>
        `;
        
        list.appendChild(card);
      });
    }

    function renderStreaks() {
      const grid = document.getElementById('streaksGrid');
      const streaks = tracker.getStreaks();
      const streakTypes = tracker.achievements.streaks.types;
      
      grid.innerHTML = '';
      
      streakTypes.forEach(streakType => {
        const streakData = streaks[streakType.id];
        const card = document.createElement('div');
        card.className = 'streak-card';
        
        const milestones = streakType.milestones.map(m => {
          const reached = streakData.best >= m;
          return `<span class="milestone ${reached ? 'reached' : ''}">${m}</span>`;
        }).join('');
        
        card.innerHTML = `
          <div class="streak-icon">${streakType.icon}</div>
          <div class="streak-current">${streakData.current}</div>
          <div class="streak-label">${streakType.name}</div>
          <div class="streak-best">Best: ${streakData.best} days</div>
          <div class="streak-milestones">
            <div style="margin-bottom: 5px; font-size: 0.9em; color: #aaa;">Milestones</div>
            ${milestones}
          </div>
        `;
        
        grid.appendChild(card);
      });
    }

    function renderBadges() {
      const grid = document.getElementById('badgesGrid');
      const badges = tracker.getBadges();
      
      grid.innerHTML = '';
      
      if (badges.length === 0) {
        grid.innerHTML = `
          <div class="empty-state" style="grid-column: 1 / -1;">
            <div class="empty-state-icon">üéñÔ∏è</div>
            <h3>No Badges Yet</h3>
            <p>Unlock achievements to earn badges!</p>
          </div>
        `;
        return;
      }
      
      badges.forEach(badge => {
        const card = document.createElement('div');
        card.className = 'badge-card';
        
        card.innerHTML = `
          <div class="badge-icon">${badge.icon}</div>
          <div class="badge-name">${badge.name}</div>
          <div class="badge-rarity ${badge.rarity}">${badge.rarity}</div>
        `;
        
        grid.appendChild(card);
      });
    }

    function setupTabs() {
      const tabs = document.querySelectorAll('.tab');
      const contents = document.querySelectorAll('.tab-content');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          const targetTab = tab.dataset.tab;
          
          // Remove active class from all tabs and contents
          tabs.forEach(t => t.classList.remove('active'));
          contents.forEach(c => c.classList.remove('active'));
          
          // Add active class to clicked tab and corresponding content
          tab.classList.add('active');
          document.getElementById(`${targetTab}-tab`).classList.add('active');
        });
      });
    }

    // Demo: Simulate some achievements
    async function simulateProgress() {
      // Simulate session completion
      await tracker.trackEvent('session_completed', { timeSlot: 'morning' });
      
      // Simulate win logged
      await tracker.trackEvent('win_logged', {});
      
      // Simulate reflection
      await tracker.trackEvent('reflection_completed', { wordCount: 150 });
      
      // Refresh UI
      renderLevelProgress();
      renderStats();
      renderAchievements();
      renderChallenges();
      renderStreaks();
    }

    // Initialize on load
    init();

    // Add demo button (remove in production)
    const demoButton = document.createElement('button');
    demoButton.textContent = 'üéÆ Simulate Progress (Demo)';
    demoButton.style.cssText = `
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 15px 25px;
      background: linear-gradient(135deg, #4A90E2, #9B59B6);
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      z-index: 1000;
    `;
    demoButton.onclick = simulateProgress;
    document.body.appendChild(demoButton);
  </script>
</body>
</html>